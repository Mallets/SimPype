.. _example_feature_preemption_restart:

=======================
Preemption with restart
=======================

The scenario of the simulation is the following:

.. code-block:: none

   |Generator #0| \
                   )-> |Resource #0|
   |Generator #1| /

Messages generated by ``Generator #0`` preempt the messages generated by ``Generator #1`` while being served by ``Resource #0``.
In this example, ``Resource #0`` has no memory. Therefore, messages always spend a full service time regardless have already been preempted or not.

.. literalinclude:: ../../../examples/features/preemption_restart.py
       :language: python

Where ``p_preemption`` model is so implemented:

.. literalinclude:: ../../../examples/model/p_preemption.py
       :language: python

``sim.cfg`` stored under the ``log`` folder contains:

.. literalinclude:: ../../../examples/features/log/preemption_restart/run01/sim.cfg

``sim.log`` stored under the ``log`` folder contains:

.. literalinclude:: ../../../examples/features/log/preemption_restart/run01/sim.log
