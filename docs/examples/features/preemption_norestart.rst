.. _example_feature_preemption_norestart:

==========================
Preemption with no restart
==========================

The scenario of the simulation is the following:

.. code-block:: none

   |Generator #0| \
                   )-> |Resource #0|
   |Generator #1| /

Where messages generated by ``Generator #0`` preempt the messages generated by ``Generator #1`` while being served by ``Resource #0``.
In this example, ``Resource #0`` has memory. Therefore, messages being preempted only spend the residual service time the next time are served.

.. literalinclude:: ../../../examples/features/preemption_norestart.py
    :language: python

Where ``r_preemption`` model is so implemented:

.. literalinclude:: ../../../examples/model/r_preemption.py
    :language: python

And ``p_preemption`` model is so implemented:

.. literalinclude:: ../../../examples/model/p_preemption.py
    :language: python

``sim.cfg`` stored under the ``log`` folder contains:

.. literalinclude:: ../../../examples/features/log/preemption_norestart/run01/sim.cfg

``sim.log`` stored under the ``log`` folder contains:

.. literalinclude:: ../../../examples/features/log/preemption_norestart/run01/sim.log
